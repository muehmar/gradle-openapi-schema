## Integration with OpenAPI Generator

This plugin can be used in conjunction with the official [OpenAPI Generator](https://openapi-generator.tech/) to
generate client or server code from the OpenAPI specification while using the DTO's generated by this plugin. This way,
one can benefit from the wide range of supported server and client code generation by the OpenAPI Generator while
getting all the benefits of the DTO's generated by this plugin.

There are three SpringBoot examples generating server code based on a specification utilizing the generated DTO's by this
plugin:

* [SpringBoot 2 example](../springboot2-example) ([build.gradle](../springboot2-example/build.gradle))
* [SpringBoot 3 example](../springboot3-example) ([build.gradle](../springboot3-example/build.gradle))
* [SpringBoot 4 example](../springboot4-example) ([build.gradle](../springboot4-example/build.gradle))

The important points are:

* Use the same package name for the models in both plugins
* Suppress the generation of DTO's by the OpenAPI Generator
* Use the same suffix for the DTO's in both plugins (if one is used)

```groovy
def modelPackageName = "${project.group.replaceAll("-", "")}.${project.name.replaceAll("-", "")}.api.v1.model"

// The configuration for the OpenAPI Generator
openApiGenerate {
    ...
    modelPackage = modelPackageName
    ignoreFileOverride = "$projectDir/.openapi-ignore"
    modelNameSuffix = "Dto"
    ...
}

compileJava.dependsOn(tasks.openApiGenerate)

// The configuration for this plugin
openApiGenerator {

    ...

    schemas {
        apiV1 {
            ...
            packageName = modelPackageName
            suffix = "Dto"
            ...
        }
    }
}
```

### Suppress DTO generation

There are two ways to suppress the generation of DTO's by the OpenAPI Generator. Either use the property
`modelFilesConstrainedTo` or create an ignore file (specified by `ignoreFileOverride`). Using the
`modelFilesConstrainedTo` property is not straight forward as it also interferes with the `apiFilesConstrainedTo`
and `supportingFilesConstrainedTo` properties. Using the ignore file seems to be more reliable.
